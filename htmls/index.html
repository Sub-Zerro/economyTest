<!DOCTYPE HTML>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <title>Название страницы</title>

  <style>

  </style>

</head>
<body>

  <div class="textarea"></div>
  <button></button>
  <button></button>
  <button></button>
  <button></button>
  <button></button>

  <script>

    const obj = {
      q1: {
        q: 'Что означает quantity of supply?',
        v1: 'Величина предложения',
        v2: 'Количество спроса',
        v3: 'Величина цены',
        v4: 'Количество величины спроса'
      },
      q2: {
        q: 'Как называется количество товара или услуги, которое покупатели готовы купить по данной цене?',
        v1: 'Quality of demand',
        v2: 'Средний спрос',
        v3: 'Количество спроса',
        v4: 'Quantity of demand'
      },
      q3: {
        q: 'Как называется зависимость между количеством товара или услуги, которое покупатели хотят и могут купить, и ценой на этот товар в определенное время в определенном месте?',
        v1: 'Demand',
        v2: 'Quantity of demand',
        v3: 'Спрос',
        v4: 'Количество предложения'
      },
      q4: {
        q: 'Выберите, как можно выразить функцию спроса из предложенных вариантов',
        v1: 'Qd = Q (P)',
        v2: 'Pd = P (Q)',
        v3: 'Qd = a/P',
        v4: 'Qd = 10 – 2p'
      },
      q5: {
        q: 'Как называется количество товаров и услуг, которые продавец готов предложить по данной цене в определенное время в определенном месте?',
        v1: 'Quantity of demand',
        v2: 'Quantity of supply',
        v3: 'Supply',
        v4: 'Price'
      },
      q6: {
        q: 'Как называется зависимость между количеством товаров и услуг, которые продавец готов предложить, и ценой на товар в определенное время в определенном месте?',
        v1: 'Price',
        v2: 'Demand',
        v3: 'Quantity',
        v4: 'Supply'
      },
      q7: {
        q: 'Что из перечисленных вариантов является законом спроса?',
        v1: 'Чем выше спрос, тем выше количество спроса',
        v2: 'Чем выше предложение, тем ниже спрос',
        v3: 'Чем выше количество, тем выше цена',
        v4: 'Чем выше цена, тем ниже величина спроса'
      },
      q8: {
        q: 'Что произойдет с ценой товара, если цена товара-заменителя вырастет?',
        v1: 'Упадет',
        v2: 'Вырастет',
        v3: 'Не изменится'
      },
      q9: {
        q: 'Что произойдет с ценой товара, если цена дополняющего товара упадет?',
        v1: 'Упадет',
        v2: 'Вырастет',
        v3: 'Не изменится'
      },
      q10: {
        q: 'Одинаковым ли будет влияние на предложение увеличения стоимости ресурсов и улучшение технологий производства?',
        v1: 'Да',
        v2: 'Нет'
      },
      q11: {
        q: 'Что случится с предложением на товар, если цена на товар, производимый на аналогичном оборудовании, вырастет?',
        v1: 'Вырастет',
        v2: 'Уменьшится',
        v3: 'Не изменится'
      },
      q12: {
        q: 'Что произойдет со спросом на шоколад, если налоги на покупателя вырастут?',
        v1: 'Вырастет',
        v2: 'Уменьшится',
        v3: 'Не изменится'
      },
      q13: {
        q: 'В Японии в 20 веке только начинала развиваться производство автомобилей, снизились налоги на автомобильные фирмы и производителей железа. К середине века на рынке автомобилей наблюдалось повышение предложения. Но до конца дожили не многие компании, а только производившие качественные машины, из-за чего в конце у японцев был не очень большой выбор. Какой из ответов характеризует линию спроса на продукцию надежного производителя автомобилей в Японии в 20 веке?',
        v1: 'Растет, растет, падает',
        v2: 'Растет, растет, падает',
        v3: 'Растет, падает, растет',
        v4: 'Падает, растет, растет',
        v5: 'Падает, падает, растет'
      },
      q14: {
        q: 'Укажите, как соотносятся между собой предложение на лапшу быстрого приготовления и дорогую итальянскую лапшу?',
        v1: 'Никак не соотносятся',
        v2: 'Прямо пропорционально',
        v3: 'Обратно пропорционально'
      },
      q15: {
        q: 'В конце 2020 года начался кризис важнейших элементов для производства электроники. Как это отразилось на рынке компьютеров?',
        v1: 'S↑ P↓ Q↑',
        v2: 'S↓ P↑ Q↓',
        v3: 'D↑ P↑ Q↑',
        v4: 'D↓ P↓ Q↓'
      },
      q16: {
        q: 'Что произойдет на рынке мониторов при росте цен на компьютеры?',
        v1: 'S↑ P↓ Q↑',
        v2: 'S↓ P↑ Q↓',
        v3: 'D↑ P↑ Q↑',
        v4: 'D↓ P↓ Q↓'
      },
      q17: {
        q: 'Что пройзойдет на рынке чебурекоков при росте предложения на беляши?',
        v1: 'S↑ P↓ Q↑',
        v2: 'S↓ P↑ Q↓',
        v3: 'D↑ P↑ Q↑',
        v4: 'D↓ P↓ Q↓'
      },
      q18: {
        q: 'Что случится с кривой предложения на компьютеры при разработке нового оборудования по их производству?',
        v1: 'S↑ P↓ Q↑',
        v2: 'S↓ P↑ Q↓',
        v3: 'D↑ P↑ Q↑',
        v4: 'D↓ P↓ Q↓'
      }
    }
    let scope_str = '';
    let number_of_q = 1;
    let name;

    getName();

    showQ(number_of_q);




    // (async ()=>{
    //   let num = await prompt("nigger!?");
    //   let url = '/about?';
    //   url+=`r=${num}`;
    //   console.log('url = ', url)
    //   await fetch(url)
    // })()


    function showQ(numQ){


      let textarea = document.querySelector('.textarea');
      let buttons = document.querySelectorAll('button');

      let numQ_str = `q${numQ}`;

      textarea.textContent = obj[numQ_str].q;
      buttons[0].textContent = obj[numQ_str].v1 ? obj[numQ_str].v1 : '';
      buttons[1].textContent = obj[numQ_str].v2 ? obj[numQ_str].v2 : '';
      buttons[2].textContent = obj[numQ_str].v3 ? obj[numQ_str].v3 : '';
      buttons[3].textContent = obj[numQ_str].v4 ? obj[numQ_str].v4 : '';
      buttons[4].textContent = obj[numQ_str].v5 ? obj[numQ_str].v5 : '';

      for(let i = 0; i < buttons.length; i++){
        buttons[i].onclick = (()=>{
          scope_str+=`${i+1}`;
          if (scope_str.length==number_of_q){
            if (number_of_q < 18){
              number_of_q++;
              showQ(number_of_q);
            }else{
              alert("Ответ записан, вкладку можно закрывать");
              //fetch(`/about?name=${name}&scope=${scope_str}`);
              fetch("/", {
                method: "post",
                headers: {
                  'Accept': 'application/json',
                  'Content-Type': 'application/json'
                },
                //make sure to serialize your JSON body
                body: JSON.stringify({
                  name: name,
                  answer: scope_str
                })
              })

            }
          }
        })

      }


    }

    function getName(){
      name = prompt('Введите имя и фамилию');
      alert('Тест без таймера, все задания оцениваются одинаково. Задача - нажать на вариант ответа, который считаешь правильным')
    }

    // function get_from_obj(my_object, numofQ){
    //   let num_of_q = numofQ;
    //   return my_object.num_of
    // }


  </script>
</body>
</html>
